import{j as t,T as c,A as u,b as d,_ as h}from"./index-62bb9c85.js";import{u as p,a as j,G as i,S as r}from"./useToken-9cf0e64b.js";const f="/api/",m=async(a,n)=>{if(!n)throw new Error("Failed to validate token.");const e=await fetch(f+a,{method:"GET",headers:{Authorization:n.token,"Content-Type":"application/json"}});if(!e.ok){const o=await e.json();throw new Error(o.statusText)}return await e.json()},v={revalidateOnFocus:!1,revalidateIfStale:!1,revalidateOnReconnect:!1};function g(a){const{accessToken:n}=p(),{data:e,error:s,isLoading:o}=j(n?`pets/${a}`:null,x=>m(x,n),v);return{petData:e,error:s,isLoading:o}}function l(){return t.jsxs(i,{container:!0,justifyContent:"center",columnSpacing:4,rowSpacing:4,alignItems:"center",children:[t.jsx(i,{item:!0,xs:12,textAlign:"center",mt:2,children:t.jsx(c,{variant:"h2",children:t.jsx(r,{})})}),t.jsx(i,{item:!0,marginTop:"0",children:t.jsx(r,{width:300,height:300})}),t.jsxs(i,{item:!0,textAlign:"center",children:[t.jsx(r,{width:100,variant:"text"}),t.jsx(r,{width:100,variant:"text"}),t.jsx(r,{width:100,variant:"text"}),t.jsx(r,{width:100,variant:"text"})]}),t.jsxs(i,{item:!0,textAlign:"center",xs:12,children:[t.jsx(c,{variant:"h4",children:"Description"}),t.jsx(c,{variant:"body1",children:t.jsx(r,{})})]})]})}const w=d.lazy(()=>h(()=>import("./PetSummary-7cb3accd.js"),["assets/PetSummary-7cb3accd.js","assets/index-62bb9c85.js","assets/useToken-9cf0e64b.js","assets/PetSummary-11dfe959.css"]));function D(a){const{petData:n,error:e,isLoading:s}=g(a.id);return e&&!s?t.jsx(u,{severity:"error",children:e.message?e.message:"Could not fetch pet data."}):s||!n?t.jsx(l,{}):t.jsx(d.Suspense,{fallback:t.jsx(l,{}),children:t.jsx(w,{petData:n})})}export{D as default};
