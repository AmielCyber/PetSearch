import{E as c,F as d,j as e,T as s,I as x,b as P,P as p,M as A,z as R,G as L,H as O,J as B}from"./index-f01f7c47.js";import{u as H,a as T,G as l,S as o,A as b}from"./useToken-f9026729.js";var h={},E=d;Object.defineProperty(h,"__esModule",{value:!0});var y=h.default=void 0,q=E(c()),F=e,G=(0,q.default)((0,F.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");y=h.default=G;const V="/api/",J=async(t,a)=>{if(!a)throw new Error("Failed to validate token.");const n=await fetch(V+t,{method:"GET",headers:{Authorization:a.token,"Content-Type":"application/json"}});if(!n.ok){const i=await n.json();throw new Error(i.statusText)}return await n.json()},U={revalidateOnFocus:!1,revalidateIfStale:!1,revalidateOnReconnect:!1};function W(t){const{accessToken:a}=H(),{data:n,error:r,isLoading:i}=T(a?`pets/${t}`:null,u=>J(u,a),U);return{petData:n,error:r,isLoading:i}}function K(){return e.jsxs(l,{container:!0,justifyContent:"center",columnSpacing:4,rowSpacing:4,alignItems:"center",children:[e.jsx(l,{item:!0,xs:12,textAlign:"center",mt:2,children:e.jsx(s,{variant:"h2",children:e.jsx(o,{})})}),e.jsx(l,{item:!0,marginTop:"0",children:e.jsx(o,{width:300,height:300})}),e.jsxs(l,{item:!0,textAlign:"center",children:[e.jsx(o,{width:100,variant:"text"}),e.jsx(o,{width:100,variant:"text"}),e.jsx(o,{width:100,variant:"text"}),e.jsx(o,{width:100,variant:"text"})]}),e.jsxs(l,{item:!0,textAlign:"center",xs:12,children:[e.jsx(s,{variant:"h4",children:"Description"}),e.jsx(s,{variant:"body1",children:e.jsx(o,{})})]})]})}function Q(t){return e.jsx(s,{variant:"h2",children:t.name})}var j={},X=d;Object.defineProperty(j,"__esModule",{value:!0});var C=j.default=void 0,Y=X(c()),D=e,Z=(0,Y.default)([(0,D.jsx)("path",{d:"m16.17 19-2-2H6l3-4 2.25 3 .82-1.1L5 7.83V19zM7.83 5 19 16.17V5z",opacity:".3"},"0"),(0,D.jsx)("path",{d:"M19 5v11.17l2 2V5c0-1.1-.9-2-2-2H5.83l2 2H19zM2.81 2.81 1.39 4.22 3 5.83V19c0 1.1.9 2 2 2h13.17l1.61 1.61 1.41-1.41L2.81 2.81zM5 19V7.83l7.07 7.07-.82 1.1L9 13l-3 4h8.17l2 2H5z"},"1")],"HideImageTwoTone");C=j.default=Z;var m={},ee=d;Object.defineProperty(m,"__esModule",{value:!0});var I=m.default=void 0,te=ee(c()),ae=e,ne=(0,te.default)((0,ae.jsx)("path",{d:"M2 12c0 5.52 4.48 10 10 10s10-4.48 10-10S17.52 2 12 2 2 6.48 2 12zm18 0c0 4.42-3.58 8-8 8s-8-3.58-8-8 3.58-8 8-8 8 3.58 8 8zM8 12l4-4 1.41 1.41L11.83 11H16v2h-4.17l1.59 1.59L12 16l-4-4z"}),"ArrowCircleLeftOutlined");I=m.default=ne;var f={},re=d;Object.defineProperty(f,"__esModule",{value:!0});var $=f.default=void 0,ie=re(c()),se=e,le=(0,ie.default)((0,se.jsx)("path",{d:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12s4.48 10 10 10 10-4.48 10-10zM4 12c0-4.42 3.58-8 8-8s8 3.58 8 8-3.58 8-8 8-8-3.58-8-8zm12 0-4 4-1.41-1.41L12.17 13H8v-2h4.17l-1.59-1.59L12 8l4 4z"}),"ArrowCircleRightOutlined");$=f.default=le;const oe={opacity:"0.7","&:hover":{opacity:"0.9"}};function S(t){return e.jsx(x,{"aria-label":"next-image",color:"primary",onClick:t.onClickNavigation,sx:oe,children:t.children})}var g={},ce=d;Object.defineProperty(g,"__esModule",{value:!0});var z=g.default=void 0,de=ce(c()),ue=e,ve=(0,de.default)((0,ue.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"}),"Circle");z=g.default=ve;var _={},xe=d;Object.defineProperty(_,"__esModule",{value:!0});var N=_.default=void 0,he=xe(c()),je=e,me=(0,he.default)((0,je.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CircleOutlined");N=_.default=me;const fe="_navDots_6qhvl_1",ge={navDots:fe};function _e(t,a,n){const r=Array(t);for(let i=0;i<r.length;i++)i===a?r[i]=e.jsx("li",{children:e.jsx(x,{"aria-label":`Select image ${i+1}`,disabled:!0,children:e.jsx(z,{fontSize:"medium",color:"primary"})})},i):r[i]=e.jsx("li",{children:e.jsx(x,{"aria-label":`Select image ${i+1}`,onClick:()=>n(i),sx:pe,children:e.jsx(N,{fontSize:"medium",color:"primary"})})},i);return r}const pe={"&:hover":{backgroundColor:"rgb(189,189,189,0.4)"}};function De(t){return e.jsx("div",{className:ge.navDots,children:e.jsx("menu",{children:_e(t.totalNavDots,t.currentIndex,t.onSelectDotNav)})})}const Se="_imageContainer_g8rbm_1",be="_blankImage_g8rbm_18",ye="_imgNavButtons_g8rbm_25",v={imageContainer:Se,blankImage:be,imgNavButtons:ye};function Ce(t){const[a,n]=P.useState(0);if(t.photos.length<1)return e.jsx(p,{elevation:4,children:e.jsx("div",{className:v.blankImage,children:e.jsx(C,{fontSize:"large",color:"primary"})})});const r=a>0,i=a<t.photos.length-1,u=()=>{n(r?a-1:t.photos.length-1)},k=()=>{n(i?a+1:0)},w=M=>{n(M)};return e.jsx(p,{elevation:4,children:e.jsxs("div",{className:v.imageContainer,children:[e.jsx("img",{src:t.photos[a].full,alt:t.name,sizes:"500px"}),t.photos.length>1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:v.imgNavButtons,children:[e.jsx(S,{onClickNavigation:u,children:e.jsx(I,{fontSize:"large"})}),e.jsx(S,{onClickNavigation:k,children:e.jsx($,{fontSize:"large"})})]}),e.jsx(De,{totalNavDots:t.photos.length,currentIndex:a,onSelectDotNav:w})]})]})})}function Ie(t){return e.jsxs(s,{variant:"body1",component:"section",children:[e.jsx(s,{variant:"subtitle1",children:e.jsx("b",{children:"Age"})}),t.petData.age,e.jsx(s,{variant:"subtitle1",children:e.jsx("b",{children:"Size"})}),t.petData.size,e.jsx(s,{variant:"subtitle1",children:e.jsx("b",{children:"Gender"})}),t.petData.gender,e.jsx(s,{variant:"subtitle1",children:e.jsx("b",{children:"Status"})}),t.petData.status]})}function $e(t){if(!t)return"No description provided.";const a=document.createElement("div");return a.innerHTML=t,a.textContent}function ze(t){const a=$e(t.description);return e.jsxs("section",{children:[e.jsx(s,{variant:"h4",children:"Description"}),e.jsx(s,{variant:"body1",children:a}),e.jsx(A,{href:t.url,children:"More at PetFinder.com."})]})}function Ne(t){return e.jsxs(l,{container:!0,justifyContent:"center",columnSpacing:4,rowSpacing:3,alignItems:"center",children:[e.jsx(l,{item:!0,xs:12,textAlign:"center",mt:2,children:e.jsx(Q,{name:t.petData.name})}),e.jsx(l,{item:!0,children:e.jsx(Ce,{name:t.petData.name,photos:t.petData.photos})}),e.jsx(l,{item:!0,textAlign:"center",children:e.jsx(Ie,{petData:t.petData})}),e.jsx(l,{item:!0,textAlign:"center",xs:12,children:e.jsx(ze,{description:t.petData.description,url:t.petData.url})})]})}function ke(t){const{petData:a,error:n,isLoading:r}=W(t.id);return n&&!r?e.jsx(b,{severity:"error",children:n.message?n.message:"Could not fetch pet data."}):r||!a?e.jsx(K,{}):e.jsx(Ne,{petData:a})}function Pe(){const t=R(),{state:a}=L(),n=O(),r=t.id??"error";return r==="error"||Number.isNaN(parseInt(r))?e.jsx("main",{children:e.jsx(b,{severity:"error",children:"Invalid pet id entered."})}):e.jsxs("main",{children:[(a==null?void 0:a.fromSearch)&&e.jsx(B,{startIcon:e.jsx(y,{}),onClick:()=>n(-1),size:"large",children:"Back to search results"}),e.jsx(ke,{id:r})]})}export{Pe as default};
